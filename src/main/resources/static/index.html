<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Basket</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

<header>
    <div id="headerImage"></div>
    <div id="headerInfo">
        <p>Курсовая работа "Баскетбол в школах"</p>
        <p>Группа Р33301</p>
        <p>Геллер Леонид, Савон Галина</p>
    </div>
</header>

<div class="team welcomeMessage">
    <p>Лидеры текущего турнира:</p>
</div>
<div id="wrapper">

</div>

<script>

    document.addEventListener("DOMContentLoaded", function(event) {
        fetch("teams", {
            method: "get",
            headers: { "Content-Type": "application/json" }
        })
            .then(resp => {
                if (resp.status === 200) {
                    return resp.json()
                } else {
                    console.log("Status: " + resp.status)
                    return Promise.reject("server")
                }
            })
            .then(dataJson => {
                dataJson.teams.forEach(function (team) {
                    document.getElementById("wrapper").innerHTML +=
                        `<div class="team" ">
                            <a href="team.html?id=${team.teamId}">${team.name}</a>
                            <p><b>${team.school}</b></p>
                            <p><b>${team.class_group}</b></p>
                        </div>`
                });
            })
            .catch(err => {
                if (err === "server") return
                console.log(err)
            })

    });
</script>
</body>
</html>

